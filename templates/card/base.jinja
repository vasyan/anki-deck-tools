<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anki Card</title>
    <style>
        {% block styles %}
        body {
            font-family: Arial, sans-serif;
            margin: 10px;
            line-height: 1.4;
            padding-bottom: 50px; /* Space for fixed bottom bar */
        }
        body.font-modern {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .card-container {
            max-width: 500px;
            margin: 0 auto;
        }
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #f0f0f0;
            border-top: 1px solid #ccc;
            padding: 8px;
            text-align: center;
            z-index: 1000;
        }
        .switch-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
        }
        .switch-btn:hover {
            background: #45a049;
        }
        {% endblock %}
    </style>
</head>
<body>
    <div class="card-container">
        {% block content %}{% endblock %}
    </div>

    <div class="bottom-bar">
        <button class="switch-btn" onclick="toggleFontStyle()">Switch</button>
    </div>

    <script>
        {% block scripts %}
        // Toggle font style between default and modern
        function toggleFontStyle() {
            document.body.classList.toggle('font-modern');
            // Store preference in localStorage for persistence
            const isModern = document.body.classList.contains('font-modern');
            localStorage.setItem('fontStyle', isModern ? 'modern' : 'default');
        }

        // Common JavaScript for both front and back cards
        document.addEventListener('DOMContentLoaded', function() {
            // Restore font preference from localStorage
            const savedFontStyle = localStorage.getItem('fontStyle');
            if (savedFontStyle === 'modern') {
                document.body.classList.add('font-modern');
            }
            console.log('Anki card loaded');
        });
        {% endblock %}
    </script>
</body>
</html>
